{"id":"mcp-firefly-iii-26v","title":"Fix ignored JSON marshal errors in server.go","description":"17 locations ignore json.MarshalIndent errors with _. Lines: 425, 469, 539, 604, 658, 710, 783, 829, 875, 936, 1301, 1392, 1471, 1566. Should handle errors like newer handlers at lines 1820, 1902, 1998.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-30T00:39:27.463625+02:00","updated_at":"2025-11-30T00:43:09.311333+02:00","closed_at":"2025-11-30T00:43:09.311333+02:00","labels":["code-quality","error-handling"]}
{"id":"mcp-firefly-iii-52y","title":"Create helpers.go with common utility functions","description":"Create pkg/fireflyMCP/helpers.go with: newErrorResult(msg string), newSuccessResult(data interface{}), parseOptionalDate(dateStr string). This will reduce code duplication across handlers.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T00:39:28.477166+02:00","updated_at":"2025-11-30T00:43:09.436928+02:00","closed_at":"2025-11-30T00:43:09.436928+02:00","labels":["code-quality","refactoring"]}
{"id":"mcp-firefly-iii-5rb","title":"Extend bulk operations tests with edge cases","description":"server_store_transactions_bulk_test.go missing tests for: rate limiting delay behavior, large batch processing (100+ items), partial failure scenarios with detailed assertions.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:59.183242+02:00","updated_at":"2025-11-30T00:39:59.183242+02:00","labels":["testing"]}
{"id":"mcp-firefly-iii-696","title":"Standardize null pointer handling in mappers","description":"Mixed approaches in mappers: some return nil for nil input, some return empty struct. Inconsistent field nil checks. Standardize: return nil for nil input, check all nested fields consistently.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:46.161077+02:00","updated_at":"2025-11-30T00:39:46.161077+02:00","labels":["code-quality","consistency"]}
{"id":"mcp-firefly-iii-6dg","title":"Refactor handlers to use parseOptionalDate helper","description":"Replace 20+ instances of date parsing logic with parseOptionalDate() helper. Current pattern parses date string, checks error, creates openapi_types.Date struct.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T00:39:44.553465+02:00","updated_at":"2025-11-30T00:39:44.553465+02:00","labels":["code-quality","refactoring"],"dependencies":[{"issue_id":"mcp-firefly-iii-6dg","depends_on_id":"mcp-firefly-iii-52y","type":"blocks","created_at":"2025-11-30T00:40:09.889699+02:00","created_by":"daemon"}]}
{"id":"mcp-firefly-iii-6vi","title":"Add handler logic unit tests","description":"Core handlers in server.go only have integration test coverage. Add server_handlers_test.go with unit tests for parameter validation logic, error response formatting, and tool registration.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:59.042265+02:00","updated_at":"2025-11-30T00:39:59.042265+02:00","labels":["testing"]}
{"id":"mcp-firefly-iii-89d","title":"Fix interface{} types in dto.go","description":"Four fields use interface{} instead of *string: Budget.Notes (line 21), Category.Notes (line 32), Transaction.BillId and Transaction.BillName (lines 56-57). Change to *string for type safety.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T00:39:27.966951+02:00","updated_at":"2025-11-30T00:44:24.583677+02:00","closed_at":"2025-11-30T00:44:24.583677+02:00","labels":["code-quality","type-safety"]}
{"id":"mcp-firefly-iii-8bw","title":"Standardize pagination handling across handlers","description":"Two patterns exist: Pattern 1 - conditional check with nil default, Pattern 2 - explicit default to 1. Standardize on one approach across all handlers in server.go and recurrence_handlers.go.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:45.096773+02:00","updated_at":"2025-11-30T00:39:45.096773+02:00","labels":["code-quality","consistency"]}
{"id":"mcp-firefly-iii-8j1","title":"Standardize HTTP error response patterns","description":"Different handlers use different error detail levels: generic message, message with body, or full switch with specific handling. Standardize across all handlers.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:45.599637+02:00","updated_at":"2025-11-30T00:39:45.599637+02:00","labels":["code-quality","consistency"]}
{"id":"mcp-firefly-iii-9tf","title":"Refactor handlers to use newErrorResult helper","description":"Replace 40+ repeated MCP error response patterns with newErrorResult() helper. Pattern: return \u0026mcp.CallToolResult{Content: []mcp.Content{\u0026mcp.TextContent{Text: msg}}, IsError: true}, nil, nil","notes":"Started refactoring - converted 5 error patterns in handleListAccounts and handleGetAccount. ~55 patterns remaining. Helper function newErrorResult() is available in helpers.go.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-30T00:39:28.986771+02:00","updated_at":"2025-11-30T00:45:36.491465+02:00","labels":["code-quality","refactoring"],"dependencies":[{"issue_id":"mcp-firefly-iii-9tf","depends_on_id":"mcp-firefly-iii-52y","type":"blocks","created_at":"2025-11-30T00:40:09.63861+02:00","created_by":"daemon"}]}
{"id":"mcp-firefly-iii-a9k","title":"Remove duplicate tool registrations in server.go","description":"Recurrence tools are registered twice in registerTools(). Lines 337-356 register list_recurrences, get_recurrence, list_recurrence_transactions, then lines 358-377 duplicate the exact same registrations. Remove lines 358-377.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-30T00:39:26.913594+02:00","updated_at":"2025-11-30T00:40:28.947001+02:00","closed_at":"2025-11-30T00:40:28.947001+02:00","labels":["bug","code-quality"]}
{"id":"mcp-firefly-iii-aek","title":"Refactor handleStoreTransaction into smaller functions","description":"server_store_transaction.go: handleStoreTransaction is ~200 lines doing validation, type checking, response handling, JSON parsing. Extract: validateTransactionRequest(), parseTransactionResponse().","status":"open","priority":4,"issue_type":"task","created_at":"2025-11-30T00:40:00.171072+02:00","updated_at":"2025-11-30T00:40:00.171072+02:00","labels":["code-quality","refactoring"]}
{"id":"mcp-firefly-iii-fcd","title":"Implement Rules automation (16 MCP tools)","description":"Add complete Rules automation functionality: CRUD for Rules and Rule Groups, plus test/trigger operations. 16 total MCP tools.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T08:49:11.003511+02:00","updated_at":"2025-11-30T08:53:40.072925+02:00","closed_at":"2025-11-30T08:53:40.072925+02:00"}
{"id":"mcp-firefly-iii-h7b","title":"Update integration_test.go to SDK v1.1.0","description":"The integration_test.go file was disabled (renamed to .disabled) during the SDK migration from v0.2.0 to v1.1.0. It contains ~97 patterns that need updating to the new handler signature pattern:\n\nOld: `server.handleXxx(ctx, nil, args)` returning `(result, err)`\nNew: `server.handleXxx(ctx, nil, args)` returning `(result, _, err)`\n\nThe file needs to be:\n1. Renamed back to integration_test.go\n2. All handler calls updated to handle the new 3-value return pattern\n3. Tests verified to pass against a live Firefly III instance","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T00:13:23.644509+02:00","updated_at":"2025-11-30T00:26:19.895724+02:00","closed_at":"2025-11-30T00:26:19.895724+02:00","labels":["sdk-migration","testing"]}
{"id":"mcp-firefly-iii-ojp","title":"Remove empty StoreTransactionArgs wrapper type","description":"dto.go lines 222-229: StoreTransactionArgs wraps TransactionStoreRequest without adding logic. Either add meaningful logic or remove the indirection.","status":"open","priority":4,"issue_type":"chore","created_at":"2025-11-30T00:39:59.652894+02:00","updated_at":"2025-11-30T00:39:59.652894+02:00","labels":["code-quality"]}
{"id":"mcp-firefly-iii-qds","title":"Add unit tests for recurrence handlers","description":"No unit tests exist for handleListRecurrences, handleGetRecurrence, handleListRecurrenceTransactions in recurrence_handlers.go. Only integration tests exist. Add unit tests with mocked client.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-30T00:39:47.182094+02:00","updated_at":"2025-11-30T00:39:47.182094+02:00","labels":["testing"]}
{"id":"mcp-firefly-iii-vw9","title":"Document or enforce config limits in handlers","description":"Config validates positive limits (config.go:136-147) but handlers never use them. Either enforce limits in handlers with config.Limits.* or document that limits are informational only.","status":"open","priority":4,"issue_type":"task","created_at":"2025-11-30T00:39:46.672971+02:00","updated_at":"2025-11-30T00:39:46.672971+02:00","labels":["configuration","documentation"]}
{"id":"mcp-firefly-iii-yqf","title":"Refactor handlers to use newSuccessResult helper","description":"Replace repeated success response patterns with newSuccessResult() helper. Current pattern: result, _ := json.MarshalIndent(data, \"\", \"  \") followed by CallToolResult construction.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T00:39:29.497169+02:00","updated_at":"2025-11-30T00:43:09.564784+02:00","closed_at":"2025-11-30T00:43:09.564784+02:00","labels":["code-quality","refactoring"],"dependencies":[{"issue_id":"mcp-firefly-iii-yqf","depends_on_id":"mcp-firefly-iii-52y","type":"blocks","created_at":"2025-11-30T00:40:09.760967+02:00","created_by":"daemon"}]}
{"id":"mcp-firefly-iii-zy9","title":"Добавить возможность конфигурировать не только через yaml, а также и через env","description":"Расширить возможности конфигурации сервера, чтобы поддерживать не только YAML файлы, но и переменные окружения для всех параметров конфигурации. Это улучшит гибкость развертывания и безопасность (например, для CI/CD пайплайнов и контейнеризации).","notes":"Implementation completed successfully:\n\n✅ Added Viper dependency (v1.21.0) for advanced configuration management\n✅ Refactored config.go to support both YAML and environment variables  \n✅ All env vars use FIREFLY_MCP_ prefix (e.g., FIREFLY_MCP_SERVER_URL)\n✅ Environment variables override YAML values (precedence: env \u003e yaml \u003e defaults)\n✅ Comprehensive validation of all configuration fields\n✅ Created extensive unit tests (config_test.go) - all passing\n✅ Updated integration tests to support both new and legacy env vars\n✅ Created config.yaml.example with detailed comments\n✅ Updated README.md with complete env var documentation including Docker/K8s examples\n✅ Created comprehensive CONFIGURATION.md guide\n✅ Updated CLAUDE.md with new configuration details\n✅ Build successful, all configuration tests passing\n\nThe implementation provides:\n- Security: Sensitive data (tokens) can be kept out of files\n- Flexibility: Easy configuration for different environments\n- Container-friendly: Perfect for Docker, Kubernetes deployments\n- CI/CD ready: Integrates with secret management systems\n- Backward compatible: Existing YAML configs continue to work","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-23T13:52:09.33209+02:00","updated_at":"2025-11-23T14:32:29.75567+02:00","closed_at":"2025-11-23T14:32:29.75567+02:00"}
